@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme inline {
  --color-bg-primary: #0f0f0f;
  --color-bg-secondary: #1a1a1a;
  --color-bg-tertiary: #242424;
  --color-bg-elevated: #2e2e2e;

  --color-accent-amber: #c8804a;
  --color-accent-amber-light: #d4975f;
  --color-accent-amber-dim: #a06838;
  --color-accent-gold: #b89a5a;
  --color-accent-teal: #4a8c7f;
  --color-accent-teal-light: #5da399;

  --color-text-primary: #e8e2d9;
  --color-text-secondary: #a39e95;
  --color-text-tertiary: #6b6660;
  --color-text-inverse: #0f0f0f;

  --color-border-subtle: #2a2725;
  --color-border-default: #3d3833;
  --color-border-emphasis: #524d46;

  --font-sans: var(--font-inter), ui-sans-serif, system-ui, sans-serif;
  --font-serif: var(--font-source-serif), Georgia, 'Times New Roman', serif;
}

/* ─── Light mode overrides ─── */
html.light {
  --color-bg-primary: #f5f0ea;
  --color-bg-secondary: #ebe5dc;
  --color-bg-tertiary: #e0d9cf;
  --color-bg-elevated: #d6cec3;

  --color-accent-amber: #a86830;
  --color-accent-amber-light: #8f5626;
  --color-accent-amber-dim: #7a4a20;
  --color-accent-gold: #8a7640;
  --color-accent-teal: #357a6d;
  --color-accent-teal-light: #2b6b5f;

  --color-text-primary: #2a2520;
  --color-text-secondary: #6b6358;
  --color-text-tertiary: #9a9184;
  --color-text-inverse: #f5f0ea;

  --color-border-subtle: #d6cec3;
  --color-border-default: #c4bbb0;
  --color-border-emphasis: #a89e93;
}

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    font-family: var(--font-sans);
    line-height: 1.65;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    position: relative;
  }

  /* ─── Background atmosphere: warm radial glow ─── */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    z-index: -2;
    background:
      radial-gradient(ellipse 80% 60% at 30% 20%, rgba(200, 128, 74, 0.04), transparent 70%),
      radial-gradient(ellipse 60% 80% at 75% 80%, rgba(74, 140, 127, 0.02), transparent 60%),
      radial-gradient(ellipse 100% 100% at 50% 50%, transparent 50%, rgba(0, 0, 0, 0.15));
    pointer-events: none;
  }

  html.light body::before {
    background:
      radial-gradient(ellipse 80% 60% at 30% 20%, rgba(200, 128, 74, 0.06), transparent 70%),
      radial-gradient(ellipse 60% 80% at 75% 80%, rgba(74, 140, 127, 0.03), transparent 60%),
      radial-gradient(ellipse 100% 100% at 50% 50%, transparent 50%, rgba(0, 0, 0, 0.03));
  }

  /* ─── Grain texture overlay ─── */
  body::after {
    content: '';
    position: fixed;
    inset: 0;
    z-index: 9999;
    pointer-events: none;
    opacity: 0.035;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    background-repeat: repeat;
    background-size: 256px 256px;
  }

  html.light body::after {
    opacity: 0.025;
  }

  ::selection {
    background-color: var(--color-accent-amber);
    color: var(--color-text-inverse);
  }

  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

@layer components {
  .prose-custom {
    --tw-prose-body: var(--color-text-primary);
    --tw-prose-headings: var(--color-text-primary);
    --tw-prose-links: var(--color-accent-teal);
    --tw-prose-bold: var(--color-text-primary);
    --tw-prose-quotes: var(--color-text-secondary);
    --tw-prose-quote-borders: var(--color-accent-amber);
    --tw-prose-counters: var(--color-text-secondary);
    --tw-prose-bullets: var(--color-accent-amber-dim);
    --tw-prose-hr: var(--color-border-subtle);
    --tw-prose-code: var(--color-accent-amber);
    --tw-prose-pre-bg: var(--color-bg-secondary);
  }
}
